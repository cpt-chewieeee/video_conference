<!DOCTYPE html>
<html>
<head>
    <title></title>
    
</head>
<body>
    <hr>
    <input type="text" id="sessionid" value="teamA" style="width: 100px;">
    <select id="session-settings" title="Session">
        <option selected>audio&video</option>
        <option>audio</option>
        <option>video</option>
        <option>NONE</option>
    </select>
    <hr>
    <button id="create">Create Room</button>
    <hr>
    <button id="join">Join Room</button>
    <hr>
    <div class="avatar"></div>
    <hr>
    <div id="container"></div>
    <script src="./js/mediaStreamer.js"></script>
    <script src="./node_modules/reliable-signaler/signaler.js"></script>
    <script src="./js/lib/RTCMultiConnection.js"></script>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="http://code.jquery.com/jquery-1.11.1.js"></script>
    <script>
    $('#create').click(function(){
        console.log('creating');
        var sessionid = document.getElementById('sessionid').value;
        var setting = {};
        var __setting = document.getElementById('session-settings').value;
        var splitSetting = __setting.split('&');
        if(__setting !== 'NONE'){
            for(var i = 0; i < splitSetting.length; ++i){   
                setting[splitSetting[i]] = true;
            }
        }
        //console.log("index: ", document.getElementById('container'))
        videoConference(setting, $('.avatar').get(0));
        createRoom(sessionid);
    });
    $('#join').click(function(){
        var sessionid = document.getElementById('sessionid').value;
        var setting = {};
        var __setting = document.getElementById('session-settings').value;
        var splitSetting = __setting.split('&');
        if(__setting !== 'NONE'){
            for(var i = 0; i < splitSetting.length; ++i){   
                setting[splitSetting[i]] = true;
            }
        }
        //console.log("index: ", document.getElementById('container'))
        videoConference(setting, $('.avatar').get(0));
        joinRoom(sessionid);
    });

    </script>
</body>
</html>